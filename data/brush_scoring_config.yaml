# Brush Scoring Configuration
# This file defines weights and criteria for the multi-strategy brush scoring system

# Brush scoring weights structure
brush_scoring_weights:
  # Base strategy scores (higher = better)
  # These scores mimic current behavior exactly when all modifiers are 0
  base_strategies:
    correct_complete_brush: 90.0      # Correct matches - complete brush
    correct_split_brush: 85.0         # Correct matches - split brush
    known_split: 80.0                 # Known brush splits from brush_splits.yaml
    high_priority_automated_split: 75.0  # High priority delimiters (w/, with, in)
    complete_brush: 70.0              # Complete brush match from catalog
    dual_component: 65.0              # Handle + knot split match
    medium_priority_automated_split: 60.0  # Medium priority delimiters (-, +)
    single_component_fallback: 55.0   # Handle or knot only fallback

  # Strategy modifiers (all start at 0 for exact behavior matching)
  # These can be adjusted to improve scoring without changing base behavior
  strategy_modifiers:
    high_priority_automated_split:
      multiple_brands: 0.0            # Multiple brands detected
      fiber_words: 0.0                # Fiber-related words detected
      size_specification: 0.0         # Knot size specification found
    medium_priority_automated_split:
      multiple_brands: 0.0            # Multiple brands detected
      fiber_words: 0.0                # Fiber-related words detected
      size_specification: 0.0         # Knot size specification found
    dual_component:
      high_priority_delimiter: 0.0    # High priority delimiter present
      medium_priority_delimiter: 0.0  # Medium priority delimiter present
      multiple_brands: 0.0            # Multiple brands detected
      fiber_words: 0.0                # Fiber-related words detected
      size_specification: 0.0         # Knot size specification found
      handle_knot_words: 0.0          # Handle/knot words detected
    complete_brush:
      high_priority_delimiter: 0.0    # High priority delimiter present
      medium_priority_delimiter: 0.0  # Medium priority delimiter present
      multiple_brands: 0.0            # Multiple brands detected
      handle_knot_words: 0.0          # Handle/knot words detected
      fiber_words: 0.0                # Fiber-related words detected

# Brush routing rules for pattern-based shortcuts
brush_routing_rules:
  # Skip scoring for exact matches from correct_matches.yaml
  exact_match_bypass: true
  
  # Minimum score threshold for acceptable matches
  minimum_score_threshold: 30.0
  
  # Maximum number of strategies to run before stopping
  max_strategies_to_run: 10
  
  # Whether to continue after finding first match above threshold
  stop_on_good_match: false 